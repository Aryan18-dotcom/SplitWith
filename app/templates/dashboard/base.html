<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>{% block title %}Shared Expense Tracker{% endblock %}</title>

  <!-- Load Inter Font -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700;800&display=swap" rel="stylesheet">

  <!-- Load Remix Icons (Used for navigation icons) -->
  <link href="https://cdn.jsdelivr.net/npm/remixicon@4.7.0/fonts/remixicon.css" rel="stylesheet" />

  <!-- Load Tailwind CSS -->
  <script src="https://cdn.jsdelivr.net/npm/@tailwindcss/browser@4"></script>
    <!-- Chart.js CDN (ensure included in base or include here) -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.3.0/dist/chart.umd.min.js"></script>

  <!-- GSAP CDN -->
  <script src="https://cdn.jsdelivr.net/npm/gsap@3.12.2/dist/gsap.min.js"></script>


  {% block extra_styles %}{% endblock %}
</head>

<body class="font-sans m-0 bg-bg-light text-[#222] relative">
  <!-- App Container: flex, min-h-screen -->
  <div class="flex min-h-screen">

    <!-- Sidebar -->
    <aside class="w-64 p-6 border-r border-gray-100 bg-white flex-shrink-0 fixed top-0">

      <!-- Brand -->
      <div class="font-bold text-xl text-accent-purple mb-5">Shared Expense
        Tracker</div>
      <div class="text-sm text-muted-text mb-4">Manage groups & split
        costs</div>

      <!-- Navigation -->
      <nav class="mt-4">

        <a href="{{ url_for('home.dashboard') }}"
          class="block p-3 rounded-lg text-gray-700 text-base mb-2 transition duration-150 hover:bg-gray-50 hover:text-gray-900 ">
          <i class="ri-dashboard-line mr-3"></i>Dashboard
        </a>

        <a href="{{ url_for('group.list_groups') }}"
          class="block p-3 rounded-lg text-gray-700 text-base mb-2 transition duration-150 hover:bg-gray-50 hover:text-gray-900">
          <i class="ri-group-line mr-3"></i>Groups
        </a>

        <a href="{{ url_for('expense.expenses') }}"
          class="block p-3 rounded-lg text-gray-700 text-base mb-2 transition duration-150 hover:bg-gray-50 hover:text-gray-900 ">
          <i class="ri-wallet-3-line mr-3"></i>Expenses
        </a>

        <a href="{{ url_for('reports.reports_home') }}"
          class="block p-3 rounded-lg text-gray-700 text-base mb-2 transition duration-150 hover:bg-gray-50 hover:text-gray-900 ">
          <i class="ri-bar-chart-2-line mr-3"></i>Reports
        </a>

        <a href="{{ url_for('settings.settings') }}"
          class="block p-3 rounded-lg text-gray-700 text-base mb-2 transition duration-150 hover:bg-gray-50 hover:text-gray-900 ">
          <i class="ri-settings-3-line mr-3"></i>Settings
        </a>
      </nav>
    </aside>
    <div class="w-64 h-full"></div>
    <!-- Main Content Area -->
    <main class="flex-1 p-6 sm:p-8">
      <div class="absolute top-2 left-[45%] -traslate-x-[50%] z-20">
        <!-- Flash messages -->
        {% with messages = get_flashed_messages(with_categories=true) %}
        {% if messages %}
        <div class="space-y-3 mb-4">
          {% for category, message in messages %}
          <div class="p-3 rounded-lg text-sm
                {% if category == 'error' %} bg-red-100 text-red-700 border border-red-300
                {% elif category == 'success' %} bg-green-100 text-green-700 border border-green-300
                {% else %} bg-gray-100 text-gray-700 border border-gray-300 {% endif %}">
            {{ message }}
          </div>
          {% endfor %}
        </div>
        {% endif %}
        {% endwith %}
      </div>
      <!-- Top Bar/Header -->
      <div class="flex justify-between items-center mb-6 pb-2">
        <div>
          <div class="text-2xl font-semibold text-gray-800">Dashboard</div>
          <div class="text-sm text-xs text-neutral-500 mt-1">Your
            comprehensive dashbaord overview.</div>
        </div>
        <div class="flex gap-3 items-center">
          <!-- Profile Button -->
          <div class="flex items-center justify-between gap-2">
            <a href="{{ url_for('settings.settings_profile') }}"
              class="rounded-full bg-card-light text-gray-700 border border-gray-200 cursor-pointer shadow-sm hover:border-gray-300 transition duration-150 text-sm font-medium">
              {% if current_user.profile_pic %}
              <img src="{{ current_user.profile_pic or '/static/default_profile.png' }}" alt="{{ current_user.username + 'Profile Pic'}}"
                class="size-10 rounded-full object-cover shadow">
              {% else %}
              {% set initials = current_user.full_name.split()[0][0] ~ current_user.full_name.split()[-1][0] %}
              <div class="size-10 rounded-full text-neutral-700 font-extrabold flex items-center justify-center shadow">
                {{ initials }}
              </div>
              {% endif %}
            </a>
            <div class="text-sm text-gray-700 font-medium">
              <h2 class="font-bold text-md text-neutral-900 text-capitalize">{{
                current_user.full_name }}</h2>
              <p class="text-xs text-neutral-500">{{ current_user.email }}</p>
            </div>

          </div>
          <!-- Logout Button -->
          <!-- <a href="{{ url_for('userAuth.logout') }}" 
            class="px-4 py-2 rounded-xl bg-gray-100 text-gray-700 border border-gray-200 cursor-pointer shadow-sm hover:bg-gray-200 transition duration-150 text-sm font-medium">
            Logout
          </a> -->
        </div>
      </div>

      <!-- Page Content Block -->
      {% block content %}{% endblock %}
    </main>
  </div>

  {% block extra_scripts %}{% endblock %}
</body>

</html>